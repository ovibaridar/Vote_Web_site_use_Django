<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    {% load static%}
    <link rel="stylesheet" href="{% static 'vote_application/css/style.css' %}">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <title>Sign Up</title>



</head>

<body>

    {%include 'vote_application/navbar.html'%}

    <section class="dark-background pt-5 ">
        <div class="container from_con bg-light d-flex justify-content-center">
            <form class=" p-2 mt-5" action="sign_up_data_collect" method="post" onsubmit="return validateForm()">
                 {% csrf_token %}

                <div class="form_hadding d-flex justify-content-center">
                        <span class="fw-bold fh">Create Account</span>

                </div>
                <div class=" d-flex justify-content-center">
                        <span class="text-danger">{{error}}</span>

                </div>
                <div class="mt-4">
                    <label class="form_la" for="username">Name</label><br>
                    <input name="username" class="from_in bg-light" id="username" type="text">
                    <span id="usernameError"  style="color:red;margin-top:10px; display:flex;" ></span>

                </div>
                <div class="mt-4">
                    <label class="form_la" for="email">Gmail</label><br>
                    <input class="from_in bg-light" name="email" id="email" type="email">
                    <span id="emailError" style="color:red;margin-top:10px; display:flex;"></span>

                </div>
                <div class="mt-4">
                    <label class="form_la" for="password">Password</label><br>
                    <input class="from_in  bg-light"  name="password" id="password"  type="password">
                    <span id="passwordError" style="color:red;margin-top:10px; display:flex;"></span>
                </div>
                <div class="mt-4">
                    <label class="form_la" for="confirmPassword">Confirm Password</label><br>
                    <input class="from_in bg-light" name="confirmPassword" id="confirmPassword" type="password">
                    <span id="confirmPasswordError" style="color:red;margin-top:10px; display:flex;"></span>
                </div>
                <div class="mt-4 d-flex justify-content-center">
                    <button class="form_btn bg-light" type="submit">Sign
                        up</button>
                </div>
            </form>
        </div>
    </section>




<script>
        function validateForm() {
            // Get form input values
            var username = document.getElementById('username').value;
            var email = document.getElementById('email').value;
            var password = document.getElementById('password').value;
            var confirmPassword = document.getElementById('confirmPassword').value;

            // Reset error messages
            document.getElementById('usernameError').innerHTML = '';
            document.getElementById('emailError').innerHTML = '';
            document.getElementById('passwordError').innerHTML = '';
            document.getElementById('confirmPasswordError').innerHTML = '';

            // Validate username
            if (username === '') {
                document.getElementById('usernameError').innerHTML = 'Username is required';
                return false;
            }

            // Validate email
            var emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(email)) {
                document.getElementById('emailError').innerHTML = 'Invalid email address';
                return false;
            }

            // Validate password
            if (password === '') {
                document.getElementById('passwordError').innerHTML = 'Password is required';
                return false;
            }

            if (password.length < 8) {
                document.getElementById('passwordError').innerHTML = 'Password must be at least 8 characters long';
                return false;
            }

            // Validate confirm password
            if (confirmPassword === '') {
                document.getElementById('confirmPasswordError').innerHTML = 'Please confirm your password';
                return false;
            }

            if (password !== confirmPassword) {
                document.getElementById('confirmPasswordError').innerHTML = 'Passwords do not match';
                return false;
            }

            // If everything is valid, you can perform further actions like submitting the form or redirecting to another page
            alert('Registration successful!');
            return true;
        }
    </script>







    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
</body>

</html>